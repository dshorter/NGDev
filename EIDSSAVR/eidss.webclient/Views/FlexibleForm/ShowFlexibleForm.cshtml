@using eidss.model.Model.FlexibleForms.FlexNodes
@model eidss.model.Schema.FFPresenterModel
    
      
@if ((Model != null) && (Model.TemplateFlexNode != null))
{
    <input type="hidden" id="FFKey" value="@ViewBag.FFKey"/>
    <input type="hidden" id="FFpresenterId" value="@ViewBag.FFpresenterId"/>
    <input type="hidden" id="FFRootId" value="@ViewBag.IDRoot"/>
    <input type="hidden" id="FFObservationId" value="@ViewBag.IDObservation"/>
    <input type="hidden" id="CurrentDiagnosis" value="@Model.CurrentDiagnosis"/>
    
    <div>
        @foreach (var node in Model.TemplateFlexNode.ChildList)
        {
            //@Html.Partial("FlexNode", (FlexNode)node)
            var fNode = (FlexNode)node;
            fNode.IsReadOnly = Model.TemplateFlexNode.IsReadOnly;
            @Html.Partial("FlexNode", fNode)
        }
    </div>
}